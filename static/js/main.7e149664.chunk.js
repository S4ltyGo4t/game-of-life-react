(this["webpackJsonpgame-of-life-react"]=this["webpackJsonpgame-of-life-react"]||[]).push([[0],{61:function(e,t,a){e.exports=a(90)},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),l=(a(66),a(67),a(17)),s=a(11),c=a(35),u=a(36),m=a(42),h=(a(68),a(56)),d=a.n(h),f=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.classes;return r.a.createElement("div",{className:n.cell,style:{left:"".concat(k*t+1,"px"),top:"".concat(k*a+1,"px"),width:"".concat(k-1,"px"),height:"".concat(k-1,"px")}})}}]),t}(r.a.Component),p=d()((function(){return{cell:{background:"#61dafb",position:"absolute"}}}))(f),v=a(119),g=a(5),b=a(118),k=20,y=800,w=600,E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={cells:[],isRunning:!1,interval:1e3},a.runGame=function(){a.setState({isRunning:!0}),a.runIteration()},a.stopGame=function(){a.setState({isRunning:!1}),a.timeoutHandler&&(window.clearTimeout(a.timeoutHandler),a.timeoutHandler=null)},a.handleIntervalChange=function(e){a.setState(a.setState({interval:e.target.value}))},a.handleClick=function(e){var t=a.getElementOffset(),n=e.clientX-t.x,r=e.clientY-t.y,o=Math.floor(n/k),i=Math.floor(r/k);o>=0&&o<=a.cols&&i>=0&&i<=a.rows&&(a.board[i][o]=!a.board[i][o]),a.setState({cells:a.makeCells()})},a.handleRandom=function(){for(var e=0;e<a.rows;e++)for(var t=0;t<a.cols;t++)a.board[e][t]=Math.random()>=.5;a.setState({cells:a.makeCells()})},a.handleClear=function(){a.board=a.makeEmptyBoard(),a.setState({cells:a.makeCells()})},a.rows=w/k,a.cols=y/k,a.board=a.makeEmptyBoard(),a.boardRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"runIteration",value:function(){var e=this;console.log("running iteration");for(var t=this.makeEmptyBoard(),a=0;a<this.rows;a++)for(var n=0;n<this.cols;n++){var r=this.calculateNeighbors(this.board,n,a);this.board[a][n]?t[a][n]=2===r||3===r:this.board[a][n]||3!==r||(t[a][n]=!0)}this.board=t,this.setState({cells:this.makeCells()}),this.timeoutHandler=window.setTimeout((function(){e.runIteration()}),this.state.interval)}},{key:"calculateNeighbors",value:function(e,t,a){for(var n=0,r=[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]],o=0;o<r.length;o++){var i=r[o],l=a+i[0],s=t+i[1];s>=0&&s<this.cols&&l>=0&&l<this.rows&&e[l][s]&&n++}return n}},{key:"makeEmptyBoard",value:function(){for(var e=[],t=0;t<this.rows;t++){e[t]=[];for(var a=0;a<this.cols;a++)e[t][a]=!1}return e}},{key:"makeCells",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var a=0;a<this.cols;a++)this.board[t][a]&&e.push({x:a,y:t});return e}},{key:"getElementOffset",value:function(){var e=this.boardRef.current.getBoundingClientRect(),t=document.documentElement;return{x:e.left+window.pageXOffset-t.clientLeft,y:e.top+window.pageYOffset-t.clientTop}}},{key:"render",value:function(){var e=this.state.cells,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement("div",{className:"Board",style:{width:y,height:w,backgroundSize:"".concat(k,"px ").concat(k,"px")},onClick:this.handleClick,ref:this.boardRef},e.map((function(e){return r.a.createElement(p,{x:e.x,y:e.y,key:"".concat(e.x,",").concat(e.y)})}))),r.a.createElement("div",{className:"controls"},r.a.createElement(b.a,{label:"Update (ms)",variant:"outlined",className:t.margin,InputLabelProps:{className:t.textField},InputProps:{className:t.textField},type:"number",value:this.state.interval,onChange:this.handleIntervalChange}),r.a.createElement("div",{className:"buttons"},r.a.createElement(v.a,{className:t.margin,onClick:this.handleRandom,variant:"contained",color:"primary"},"Random"),r.a.createElement(v.a,{className:t.margin,onClick:this.handleClear,variant:"contained",color:"primary"},"Clear"),this.state.isRunning?r.a.createElement(v.a,{className:t.margin,onClick:this.stopGame,variant:"contained",color:"secondary"},"Stop"):r.a.createElement(v.a,{className:t.margin,onClick:this.runGame,variant:"contained",color:"primary"},"Run"))))}}]),t}(r.a.Component),C=Object(g.a)((function(e){return{margin:{margin:e.spacing(1)},textField:{color:"white",margin:e.spacing(1)}}}))(E);var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h2",null,"Game of Life"),r.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.7e149664.chunk.js.map